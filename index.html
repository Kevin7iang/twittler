<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <link type="text/css" rel="stylesheet" href="stylesheet.css"/>
  </head>
  <body>
    <h2>Twittler</h2>
    <button class="fetchTweets">Fetch Tweets</button>
    <br>
    <ul class="tweets"></ul>
    <script>

      var displayTweets = function(tweets) {
        var $tweets = $('.tweets');
        $tweets.html('');
        for (var i = tweets.length - 1; -1 < i; i--) {
          var tweet = tweets[i];
          var $tweet = $('<li><button class="username">' + tweet.user + '</button>' + '[' + tweet.created_at.toString().slice(4,24) + '] : ' + tweet.message + '</li>');
          $tweets.append($tweet);
        }
      };

      $(document).ready(function() {
        $('.fetchTweets').on('click', function() {
          displayTweets(streams.home);
          $('.username').on('click', function() {
            displayTweets(streams.users[$(this).text().toString()]);
          });
        });
      });

    </script>
  </body>
</html>
